"use strict";(self.webpackChunkreact_setup=self.webpackChunkreact_setup||[]).push([[388],{1388:function(e,i,t){t.r(i),t.d(i,{default:function(){return Z}});var a=t(2791),s=t(3092),n=t(1413),l=t(5861),r=t(885),d=t(7757),o=t.n(d),u=t(6871),c=t(429),p=t(3349),v=t(9389),x=t(9892),f=t(5633),h=t(2801),m=t(3041),V=t(1743),j=t(6413),g=(t(3224),t(184)),b=function(){var e=(0,u.UO)().placeId,i=(0,a.useContext)(V.V),t=i.places.find((function(i){return i._id===e})),s=(0,h.x)(),d=s.isLoading,b=s.error,Z=s.sendRequest,C=s.clearError,I=(0,u.s0)(),P=(0,x.c)({title:{value:null===t||void 0===t?void 0:t.title,isValid:!1},description:{value:null===t||void 0===t?void 0:t.description,isValid:!1},address:{value:null===t||void 0===t?void 0:t.address,isValid:!!t},image:{value:null===t||void 0===t?void 0:t.image,isValid:!1}},!1),k=(0,r.Z)(P,3),A=k[0],T=k[1],y=k[2];a.useEffect((function(){console.log(t),t&&y({title:{value:t.title,isValid:!!t},description:{value:t.description,isValid:!!t},address:{value:t.address,isValid:!!t},image:{value:null===t||void 0===t?void 0:t.image,isValid:!1}},!0)}),[y,t]),console.log((0,u.UO)());var E=function(){var t=(0,l.Z)(o().mark((function t(a){var s,n,l,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),s=A.inputs.title.value,n=A.inputs.description.value,A.inputs.image.value,l=A.inputs.address.value,console.log("formState",A),t.prev=6,t.next=9,Z("places/".concat(e),"PATCH",JSON.stringify({title:s,description:n,address:l}),{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(i.token)});case 9:r=t.sent,console.log(r),I("/".concat(i.userId,"/places")),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(6),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[6,14]])})));return function(e){return t.apply(this,arguments)}}(),N={error:b,onClear:C};return d?(0,g.jsx)("div",{className:"center",children:(0,g.jsx)(f.Z,{children:(0,g.jsx)(m.Z,{asOverlay:!0})})}):t?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j.Z,(0,n.Z)({},N)),(0,g.jsxs)("form",{className:"place-form",onSubmit:E,children:[(0,g.jsx)(c.I,{id:"title",element:"input",label:"Title",validators:[(0,p.hg)()],errorText:"Please Enter A valid title",onInput:T,inputValue:A.inputs.title.value,inputValid:A.inputs.title.isValid,valid:!0}),(0,g.jsx)(c.I,{id:"description",element:"textarea",label:"Description",validators:[(0,p.CP)(5)],errorText:"Please Enter A valid description at least 5 chars",onInput:T,inputValue:A.inputs.description.value,inputValid:A.inputs.description.isValid,valid:!0}),(0,g.jsx)(c.I,{id:"address",element:"textarea",label:"Address",validators:[(0,p.CP)(5)],errorText:"Please Enter A valid description at least 5 chars",onInput:T,inputValue:A.inputs.address.value,inputValid:A.inputs.address.isValid,valid:!0}),(0,g.jsx)(v.Z,{type:"submit",disabled:!A.isValid,inverse:!0,children:"Update Place"})]})]}):(0,g.jsx)("div",{className:"center",children:(0,g.jsx)(f.Z,{children:(0,g.jsx)("h2",{className:"text-xl",children:"Place not found"})})})},Z=function(){return(0,g.jsx)(s.Z,{children:(0,g.jsx)(b,{})})}},3224:function(){}}]);
//# sourceMappingURL=388.c8283094.chunk.js.map