{"ast":null,"code":"var _jsxFileName = \"/Volumes/SSD-Data/Users/mohamed/projects/mern/app/src/components/places/UpdatePlace.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { Input } from \"../shared/UIElements/Input\";\nimport { VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE } from \"../../utlis/validations/validator\";\nimport Button from \"../shared/UIElements/Button\";\nimport { useForm } from \"../../app/hooks/useForm\";\nimport \"../../styles/places.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst places = [{\n  id: \"p1\",\n  title: \"Empire State Building\",\n  description: \"One of the most famous sky scrapers in the world!\",\n  imageUrl: \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/df/NYC_Empire_State_Building.jpg/640px-NYC_Empire_State_Building.jpg\",\n  address: \"20 W 34th St, New York, NY 10001\",\n  creatorId: \"u1\",\n  coordinates: {\n    lat: \"40.7484405\",\n    lng: \"-73.9878584\"\n  }\n}, {\n  id: \"p2\",\n  title: \"Empire State Building 2\",\n  description: \"One of the most famous sky scrapers in the world! 2\",\n  imageUrl: \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/df/NYC_Empire_State_Building.jpg/640px-NYC_Empire_State_Building.jpg\",\n  address: \"20 W 34th St, New York, NY 10001\",\n  creatorId: \"u2\",\n  coordinates: {\n    lat: \"40.7484405\",\n    lng: \"-73.9878584\"\n  }\n}];\n\nconst UpdatePlace = () => {\n  _s();\n\n  const {\n    placeId\n  } = useParams();\n  const [formState, inputHandler, setFormData] = useForm({\n    title: {\n      value: \"\",\n      isValid: false\n    },\n    description: {\n      value: \"\",\n      isValid: false\n    }\n  }, false);\n  const place = places.find(p => p.id === placeId);\n  React.useEffect(() => {\n    setFormData({\n      title: {\n        value: (place === null || place === void 0 ? void 0 : place.title) || \"\",\n        isValid: place ? true : false\n      },\n      description: {\n        value: (place === null || place === void 0 ? void 0 : place.description) || \"\",\n        isValid: place ? true : false\n      }\n    }, true);\n  }, [setFormData, place]);\n\n  const placeSubmitHandler = event => {\n    event.preventDefault();\n    console.log(\"formState\", formState); //send this to back end\n  };\n\n  if (!place) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Place not found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 12\n    }, this);\n  }\n\n  if (!formState.inputs.title.value) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Place not found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 12\n    }, this);\n  }\n\n  return !formState.isValid ? /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 32\n  }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"place-form\",\n    onSubmit: placeSubmitHandler,\n    children: [/*#__PURE__*/_jsxDEV(Input, {\n      id: \"title\",\n      element: \"input\",\n      label: \"Title\",\n      validators: [VALIDATOR_REQUIRE()],\n      errorText: \"Please Enter A valid title\",\n      onInput: inputHandler,\n      inputValue: formState.inputs.title.value,\n      inputValid: formState.inputs.title.isValid,\n      valid: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      id: \"description\",\n      element: \"textarea\",\n      label: \"Description\",\n      validators: [VALIDATOR_MINLENGTH(5)],\n      errorText: \"Please Enter A valid description at least 5 chars\",\n      onInput: inputHandler,\n      inputValue: formState.inputs.description.value,\n      inputValid: formState.inputs.description.isValid,\n      valid: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"submit\",\n      disabled: !formState.isValid,\n      children: \"Update Place\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 7\n  }, this);\n};\n\n_s(UpdatePlace, \"2U5lL+FTIYgluE7Pn+IMe9HkhHg=\", false, function () {\n  return [useParams, useForm];\n});\n\n_c = UpdatePlace;\nexport default UpdatePlace;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdatePlace\");","map":{"version":3,"sources":["/Volumes/SSD-Data/Users/mohamed/projects/mern/app/src/components/places/UpdatePlace.tsx"],"names":["React","useParams","Input","VALIDATOR_MINLENGTH","VALIDATOR_REQUIRE","Button","useForm","places","id","title","description","imageUrl","address","creatorId","coordinates","lat","lng","UpdatePlace","placeId","formState","inputHandler","setFormData","value","isValid","place","find","p","useEffect","placeSubmitHandler","event","preventDefault","console","log","inputs"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { Input } from \"../shared/UIElements/Input\";\nimport { Place } from \"./placesInterFace\";\nimport { VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE } from \"../../utlis/validations/validator\";\nimport Button from \"../shared/UIElements/Button\";\nimport { useForm } from \"../../app/hooks/useForm\";\n\nimport \"../../styles/places.scss\";\n\nconst places: Place[] = [\n  {\n    id: \"p1\",\n    title: \"Empire State Building\",\n    description: \"One of the most famous sky scrapers in the world!\",\n    imageUrl:\n      \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/df/NYC_Empire_State_Building.jpg/640px-NYC_Empire_State_Building.jpg\",\n    address: \"20 W 34th St, New York, NY 10001\",\n    creatorId: \"u1\",\n    coordinates: {\n      lat: \"40.7484405\",\n      lng: \"-73.9878584\",\n    },\n  },\n  {\n    id: \"p2\",\n    title: \"Empire State Building 2\",\n    description: \"One of the most famous sky scrapers in the world! 2\",\n    imageUrl:\n      \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/df/NYC_Empire_State_Building.jpg/640px-NYC_Empire_State_Building.jpg\",\n    address: \"20 W 34th St, New York, NY 10001\",\n    creatorId: \"u2\",\n    coordinates: {\n      lat: \"40.7484405\",\n      lng: \"-73.9878584\",\n    },\n  },\n];\nconst UpdatePlace: React.FC = () => {\n  const { placeId } = useParams();\n  const [formState, inputHandler, setFormData] = useForm(\n    {\n      title: {\n        value: \"\",\n        isValid: false,\n      },\n      description: {\n        value: \"\",\n        isValid: false,\n      },\n    },\n    false\n  );\n  const place = places.find((p) => p.id === placeId);\n  React.useEffect(() => {\n      setFormData({\n        title: {\n          value: place?.title || \"\",\n          isValid: place ? true : false,\n        },\n        description: {\n          value:place?.description || \"\",\n          isValid: place ? true : false,\n        },\n      },true)\n  },[setFormData,place])\n  const placeSubmitHandler = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    console.log(\"formState\", formState); //send this to back end\n  };\n\n  if(!place) {\n    return <div>Place not found</div>\n  }\n  if(!formState.inputs.title.value) {\n    return <div>Place not found</div>\n  }\n    return !formState.isValid? <div>Loading...</div>: (\n      <form className=\"place-form\" onSubmit={placeSubmitHandler}>\n        <Input\n          id=\"title\"\n          element=\"input\"\n          label=\"Title\"\n          validators={[VALIDATOR_REQUIRE()]}\n          errorText=\"Please Enter A valid title\"\n          onInput={inputHandler}\n          inputValue={formState.inputs.title.value}\n          inputValid={formState.inputs.title.isValid}\n          valid={true}\n        />\n     \n        <Input\n          id=\"description\"\n          element=\"textarea\"\n          label=\"Description\"\n          validators={[VALIDATOR_MINLENGTH(5)]}\n          errorText=\"Please Enter A valid description at least 5 chars\"\n          onInput={inputHandler}\n          inputValue={formState.inputs.description.value}\n          inputValid={formState.inputs.description.isValid}\n          valid={true}\n        />\n        <Button type=\"submit\" disabled={!formState.isValid}>\n          Update Place\n        </Button>\n      </form>\n    );\n  \n};\n\nexport default UpdatePlace;\n"]},"metadata":{},"sourceType":"module"}