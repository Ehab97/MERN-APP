{"ast":null,"code":"var _jsxFileName = \"/Volumes/SSD-Data/Users/mohamed/projects/mern/app/src/components/places/UpdatePlace.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { Input } from \"../shared/UIElements/Input\";\nimport { VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE } from \"../../utlis/validations/validator\";\nimport Button from \"../shared/UIElements/Button\";\nimport { useForm } from \"../../app/hooks/useForm\";\nimport \"../../styles/places.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst places = [{\n  id: \"p1\",\n  title: \"Empire State Building\",\n  description: \"One of the most famous sky scrapers in the world!\",\n  imageUrl: \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/df/NYC_Empire_State_Building.jpg/640px-NYC_Empire_State_Building.jpg\",\n  address: \"20 W 34th St, New York, NY 10001\",\n  creatorId: \"u1\",\n  coordinates: {\n    lat: \"40.7484405\",\n    lng: \"-73.9878584\"\n  }\n}, {\n  id: \"p2\",\n  title: \"Empire State Building 2\",\n  description: \"One of the most famous sky scrapers in the world! 2\",\n  imageUrl: \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/df/NYC_Empire_State_Building.jpg/640px-NYC_Empire_State_Building.jpg\",\n  address: \"20 W 34th St, New York, NY 10001\",\n  creatorId: \"u2\",\n  coordinates: {\n    lat: \"40.7484405\",\n    lng: \"-73.9878584\"\n  }\n}];\n\nconst UpdatePlace = () => {\n  _s();\n\n  const [loading, setLoading] = React.useState(true);\n  const {\n    placeId\n  } = useParams();\n  const [formState, inputHandler, setFormData] = useForm({\n    title: {\n      value: \"\",\n      isValid: false\n    },\n    description: {\n      value: \"\",\n      isValid: false\n    }\n  }, false);\n  const place = places.find(p => p.id === placeId);\n  React.useEffect(() => {\n    setFormData({\n      title: {\n        value: (place === null || place === void 0 ? void 0 : place.title) || \"\",\n        isValid: place ? true : false\n      },\n      description: {\n        value: (place === null || place === void 0 ? void 0 : place.description) || \"\",\n        isValid: place ? true : false\n      }\n    }, true);\n    setLoading(false);\n  }, [setFormData, place]);\n\n  const placeSubmitHandler = event => {\n    event.preventDefault();\n    console.log(\"formState\", formState); //send this to back end\n  };\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 36\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 12\n    }, this);\n  }\n\n  if (!place) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"center bg-white h-48 w-50\",\n      children: \"Place not found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"place-form\",\n    onSubmit: placeSubmitHandler,\n    children: [/*#__PURE__*/_jsxDEV(Input, {\n      id: \"title\",\n      element: \"input\",\n      label: \"Title\",\n      validators: [VALIDATOR_REQUIRE()],\n      errorText: \"Please Enter A valid title\",\n      onInput: inputHandler,\n      inputValue: formState.inputs.title.value,\n      inputValid: formState.inputs.title.isValid,\n      valid: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      id: \"description\",\n      element: \"textarea\",\n      label: \"Description\",\n      validators: [VALIDATOR_MINLENGTH(5)],\n      errorText: \"Please Enter A valid description at least 5 chars\",\n      onInput: inputHandler,\n      inputValue: formState.inputs.description.value,\n      inputValid: formState.inputs.description.isValid,\n      valid: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"submit\",\n      disabled: !formState.isValid,\n      inverse: true,\n      children: \"Update Place\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 9\n  }, this);\n};\n\n_s(UpdatePlace, \"bFrPmLLS/FXa1wpSZtYInI75E+s=\", false, function () {\n  return [useParams, useForm];\n});\n\n_c = UpdatePlace;\nexport default UpdatePlace;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdatePlace\");","map":{"version":3,"sources":["/Volumes/SSD-Data/Users/mohamed/projects/mern/app/src/components/places/UpdatePlace.tsx"],"names":["React","useParams","Input","VALIDATOR_MINLENGTH","VALIDATOR_REQUIRE","Button","useForm","places","id","title","description","imageUrl","address","creatorId","coordinates","lat","lng","UpdatePlace","loading","setLoading","useState","placeId","formState","inputHandler","setFormData","value","isValid","place","find","p","useEffect","placeSubmitHandler","event","preventDefault","console","log","inputs"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { Input } from \"../shared/UIElements/Input\";\nimport { Place } from \"./placesInterFace\";\nimport { VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE } from \"../../utlis/validations/validator\";\nimport Button from \"../shared/UIElements/Button\";\nimport { useForm } from \"../../app/hooks/useForm\";\n\nimport \"../../styles/places.scss\";\n\nconst places: Place[] = [\n  {\n    id: \"p1\",\n    title: \"Empire State Building\",\n    description: \"One of the most famous sky scrapers in the world!\",\n    imageUrl:\n      \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/df/NYC_Empire_State_Building.jpg/640px-NYC_Empire_State_Building.jpg\",\n    address: \"20 W 34th St, New York, NY 10001\",\n    creatorId: \"u1\",\n    coordinates: {\n      lat: \"40.7484405\",\n      lng: \"-73.9878584\",\n    },\n  },\n  {\n    id: \"p2\",\n    title: \"Empire State Building 2\",\n    description: \"One of the most famous sky scrapers in the world! 2\",\n    imageUrl:\n      \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/df/NYC_Empire_State_Building.jpg/640px-NYC_Empire_State_Building.jpg\",\n    address: \"20 W 34th St, New York, NY 10001\",\n    creatorId: \"u2\",\n    coordinates: {\n      lat: \"40.7484405\",\n      lng: \"-73.9878584\",\n    },\n  },\n];\nconst UpdatePlace: React.FC = () => {\n  const [loading,setLoading]=React.useState(true)\n  const { placeId } = useParams();\n  const [formState, inputHandler, setFormData] = useForm(\n    {\n      title: {\n        value: \"\",\n        isValid: false,\n      },\n      description: {\n        value: \"\",\n        isValid: false,\n      },\n    },\n    false\n  );\n  const place = places.find((p) => p.id === placeId);\n  React.useEffect(() => {\n      setFormData({\n        title: {\n          value: place?.title || \"\",\n          isValid: place ? true : false,\n        },\n        description: {\n          value:place?.description || \"\",\n          isValid: place ? true : false,\n        },\n      },true)\n      setLoading(false)\n  },[setFormData,place])\n  const placeSubmitHandler = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    console.log(\"formState\", formState); //send this to back end\n  };\n\n  if(loading) {\n    return <div className=\"center\"><div>Loading...</div></div>\n  }\n  if(!place) {\n    return <div className=\"center bg-white h-48 w-50\">Place not found</div>\n  }\n    return (\n        <form className=\"place-form\" onSubmit={placeSubmitHandler}>\n          <Input\n            id=\"title\"\n            element=\"input\"\n            label=\"Title\"\n            validators={[VALIDATOR_REQUIRE()]}\n            errorText=\"Please Enter A valid title\"\n            onInput={inputHandler}\n            inputValue={formState.inputs.title.value}\n            inputValid={formState.inputs.title.isValid}\n            valid={true}\n          />\n       \n          <Input\n            id=\"description\"\n            element=\"textarea\"\n            label=\"Description\"\n            validators={[VALIDATOR_MINLENGTH(5)]}\n            errorText=\"Please Enter A valid description at least 5 chars\"\n            onInput={inputHandler}\n            inputValue={formState.inputs.description.value}\n            inputValid={formState.inputs.description.isValid}\n            valid={true}\n          />\n          <Button type=\"submit\" disabled={!formState.isValid} inverse={true}>\n            Update Place\n          </Button>\n        </form>\n      )\n  \n};\n\nexport default UpdatePlace;\n"]},"metadata":{},"sourceType":"module"}